{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended", ":dependencyDashboard"],
  "baseBranches": ["main"],
  "prHourlyLimit": 0,
  "prConcurrentLimit": 0,
  "branchConcurrentLimit": 0,
  "mode": "full",
  "commitMessageLowerCase": "auto",
  "semanticCommits": "enabled",
  "flux": {
    "fileMatch": ["^.*flux\\.yaml$"]
  },
  "packageRules": [
    {
      "matchManagers": ["github-actions", "flux"],
      "groupName": "all-ci-dependencies",
      "updateTypes": ["major", "minor", "patch"]
    }
  ],
  "regexManagers": [
    {
      "fileMatch": ["Makefile"],
      "matchStrings": [
        "(?<depName>[A-Z0-9_]+)_VERSION\\s*[:=]\\s*(?<currentValue>v?\\d+\\.\\d+\\.\\d+)[\\s\\S]*?(?<depName2>[A-Z0-9_]+)_LOOKUP\\s*[:=]\\s*\"(?<lookupValue>[^\"]+)\"(?:[\\s\\S]*?(?<depName3>[A-Z0-9_]+)_SOURCE\\s*[:=]\\s*\"(?<sourceValue>[^\"]+)\")?"
      ],
      "datasourceTemplate": "{{#sourceValue}}{{sourceValue}}{{/sourceValue}}{{^sourceValue}}github-tags{{/sourceValue}}",
      "lookupNameTemplate": "{{lookupValue}}",
      "versioningTemplate": "semver"
    }
  ]
}
